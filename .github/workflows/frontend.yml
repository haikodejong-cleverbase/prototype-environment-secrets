name: Environment variables and secrets

on:
  push:
    paths:
      - 'frontend/**'
      - '.github/workflows/frontend.yml'

env:
  APP_NAME: frontend-application
  
jobs:
  EchoEnvironment:
    runs-on: ubuntu-latest
    steps:
    - name: Check out this repo
      uses: actions/checkout@v2
      with:
        fetch-depth: 0

    - name: Echo build environment vars
      run: |
        echo $(git branch --show-current | sed "s#.*/##g")
        echo "See https://docs.github.com/en/actions/learn-github-actions/contexts#env-context"
        echo $PULL_REQUEST
        echo $GITHUB_ENV
        echo "repository ${{ env.repository }}"
        echo "ref ${{ env.ref }}"
        echo "job ${{ env.job }}"
        echo "job ${{ env.job }}"

# LAB_IMAGE_NAME1="$LAB_AWS_ECR_REPO/signing-portal:$RELEASE_ID"
# if [ "$PULL_REQUEST" = "000" ]; then
#   branch_name=$(git branch --show-current | sed "s#.*/##g")
#   LAB_IMAGE_NAME2="$LAB_AWS_ECR_REPO/signing-portal:$branch_name"
# else
#   LAB_IMAGE_NAME2="$LAB_AWS_ECR_REPO/signing-portal:pr-$PULL_REQUEST"
# fi
# docker tag $IMAGE_NAME $LAB_IMAGE_NAME1
# docker tag $IMAGE_NAME $LAB_IMAGE_NAME2
# echo "LAB_IMAGE_NAME1=$LAB_IMAGE_NAME1" >> $GITHUB_ENV
# echo "LAB_IMAGE_NAME2=$LAB_IMAGE_NAME2" >> $GITHUB_ENV